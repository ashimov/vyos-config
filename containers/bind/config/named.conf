# Only define the known VLAN subnets as trusted
acl "trusted" {
  192.168.10.0/24;   # LAN
  192.168.69.0/24;   # IOT
  192.168.200.0/24;  # SERVER
  192.168.250.0/24;  # GUEST
  10.10.0.0/24;      # WIREGUARD
  10.5.0.0/24;       # CONTAINERS
};

options {
  directory "/var/cache/bind";
  listen-on { 127.0.0.1; 10.5.0.2; };

  allow-recursion {
    trusted;
  };
  allow-transfer {
    none;
  };
  allow-update {
    none;
  };
};

logging {
  channel stdout {
    stderr;
    severity info;
    print-category yes;
    print-severity yes;
    print-time yes;
  };
  category security { stdout; };
  category dnssec { stdout; };
  category default { stdout; };
};

zone "home.arpa." {
  type master;
  file "/etc/bind/zones/db.home.arpa";
};

zone "168.192.in-addr.arpa." {
  type master;
  file "/etc/bind/zones/db.168.192.in-addr.arpa";
};

zone "10.in-addr.arpa." {
  type master;
  file "/etc/bind/zones/db.10.in-addr.arpa";
};
